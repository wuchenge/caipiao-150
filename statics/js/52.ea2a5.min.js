webpackJsonp([52],{1091:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(38),s=o(i),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}();a(39);var m=a(0),p=o(m),d=a(23),f=o(d);a(1280);var y=a(22),h=o(y),g=a(15),v=a(65),A=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={roomData:[],lotteryType:0,ApiModelProperty:2,hallData:[]},a}return l(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this.state.ApiModelProperty;(h.default.getLotteryHallandRoomList({},this.props.match.params.lotteryType).then(function(t){_.isEmpty(t.data)||e.setState({roomData:t.data,lotteryType:e.props.match.params.lotteryType})}),(0,g.getLocalStorage)("loginstatus"))&&h.default.getLotteryUserInfo().then(function(e){(0,g.setLocalStorage)("roomUser",e)})}},{key:"componentWillReceiveProps",value:function(e){}},{key:"_goRoomItem",value:function(e){var t=this;(0,g.setLocalStorage)("ChartRoomInfo",e);var a=(0,g.getLocalStorage)("user");if((0,g.getLocalStorage)("loginstatus")&&a){var o=this.state.lotteryType;h.default.getLotteryRoomCondition({account:a.account,accountType:a.accountType,roomId:e.id}).then(function(n){1==n.data?t.props.history.push({pathname:"/RoomItem28Odd/"+o}):2==Number(a.accountType)?s.default.alert("提示","该房间仅接受正式会员，请前往注册页面注册！",[{text:"取消",onPress:function(){},style:{color:"#108ee9"}},{text:"立即注册",onPress:function(){t.props.history.push("/Register/1")},style:{color:"#108ee9"}}]):-1!==e.maxBetBalance&&a.wallet.accountBalance+a.wallet.handselBalance>e.minBetBalance?s.default.alert("提示","本房间仅接受余额为"+e.minBetBalance+"-"+e.maxBetBalance+"元范围的会员下注，您的余额未满足条件",[{text:"取消",onPress:function(){},style:{color:"#108ee9"}},{text:"确定",style:{color:"#108ee9"}}]):s.default.alert("提示","本房间仅接受余额为"+(-1===e.maxBetBalance?e.minBetBalance+"元以上":e.minBetBalance+"-"+e.maxBetBalance+"元范围段")+"的会员下注，您的余额未满足，是否立即充值？",[{text:"取消",onPress:function(){},style:{color:"#108ee9"}},{text:"充值",onPress:function(){t.props.history.push("/recharge/PayMethod")},style:{color:"#108ee9"}}])})}else(0,g.isLogin)(function(){t.props.history.push("/Login")},this.props.history.push)}},{key:"_RoomOddsRulesPage",value:function(e){this.props.history.push({pathname:"/RoomOddsRulesPage/"+e.id+"/"+this.state.lotteryType}),sessionStorage.setItem("url",e.oddsDescriptionUrl)}},{key:"_loadHallandRoomList",value:function(){var e=this,t=this.state.roomData,a=[];return _.isEmpty(t)||a.push(t.map(function(t,a){return p.default.createElement("div",{key:a},p.default.createElement("div",{className:"header"},p.default.createElement("img",{src:t.backgroundImgUrl,alt:""}),p.default.createElement("div",null,p.default.createElement("div",null,p.default.createElement("span",null,t.name),p.default.createElement("span",null,t.description)),p.default.createElement("div",{onClick:function(a){e._RoomOddsRulesPage(t)}},"赔率说明"))),p.default.createElement("div",{className:"bodys"},t.chatRoomList.map(function(t,a){return p.default.createElement("div",{key:a,onClick:function(a){e._goRoomItem(t)}},p.default.createElement("img",{src:t.backgroundImgUrl,alt:""}),p.default.createElement("p",null,p.default.createElement("span",null,t.name),p.default.createElement("span",null,t.onlineNumber,"人")))})))})),a}},{key:"_loadingHallList",value:function(){var e=this,t=this.state.roomData,o=[];return _.isEmpty(t)||o.push(t.map(function(t,o){var n=t.chatRoomList,r=0;return n.map(function(e){r+=e.onlineNumber}),p.default.createElement("div",{className:"GameHall",key:o},p.default.createElement("div",{onClick:function(a){e._goHallToRoomOrRules(a,t)}},p.default.createElement("div",{className:"bgBox"},p.default.createElement("img",{src:t.backgroundImgUrl,alt:""})),p.default.createElement("div",{className:"contentTex"},p.default.createElement("div",null,p.default.createElement("img",{src:a(1327),alt:""}),p.default.createElement("span",null,r)),p.default.createElement("div",null,p.default.createElement("span",null,t.name),p.default.createElement("p",null,"（",t.description,"）")),p.default.createElement("div",{className:"peilv"},"赔率说明"))))})),o}},{key:"_goHallToRoomOrRules",value:function(e,t){var a=this.props.match.params.lotteryType;"peilv"==e.target.className?this._RoomOddsRulesPage(t):((0,g.setLocalStorage)("ChartRoomInfo",t),this.props.history.push({pathname:"/RoomItemList/"+a+"/"+t.id,query:{name:t.name,description:t.description}}))}},{key:"TitleRender",value:function(){var e=(0,g.getLocalStorage)("roomListName");return _.isEmpty(e)?701==this.props.match.params.lotteryType?"PC蛋蛋":"加拿大28":_.find((0,g.getLocalStorage)("roomListName"),["seedNo",Number(this.props.match.params.lotteryType)]).seedName}},{key:"render",value:function(){var e=this.props.CommonReducer.hallAppSettingParamVO;return p.default.createElement("div",null,p.default.createElement(f.default,u({},this.props,{Title:this.TitleRender()})),p.default.createElement("div",{className:"content roomList",style:{boxSizing:"border-box",width:"100vw",height:"100vh",overflow:"auto",paddingTop:"1.08rem",margin:"0",backgroundColor:"#F1F1F1"}},e&&1==e.chatRoomShowFlag?this._loadingHallList():this._loadHallandRoomList()))}}]),t}(m.Component);t.default=(0,v.connect)(function(e){return e})(A)},1280:function(e,t){},1327:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAwJJREFUaAXVmktsDVEYx009qq1KG/FKRD1iJammtGuvxEIibOxENyLVsLC074aNTcOChEjtbUoEi1p5VJqIslBEKKIVj9StoOP3ce+itzXzfWfOzJ17kl/mzjnf4//NOTPnzm2DeR5bGIa1hNsPB2ETrIOf8ApGoB9uBkEwzTE/DeEB9MAniGuvMTiQG/WIWQV34lTPMd5PX31FC0HAChiZQ5y26xaGdRUpgsQN8FirNMJugLEg8yJI2hchyjp0ItMCULcdpq0qI+wnGduYWREkG4wQ4zp0waUA89pD3VYSPXRJFuMzxfha9oiPMXYzhmtmnOlOunVmZqvFeHRZvVwK2G1NYrA3xzYtIZbPesS8MAiymk7i0Mwykq8fqmadgU5VVHejBlw3W9ytBay0BHe0NeWwFrDcUZTFzZTDWkCjRYmj7RKLn7WAD5bgjrbvLX7WAtJ8ApV0j5Y+aI7Wx6jcYO/A5KcRUrQZ47iGx2io9THNAIFlCQ1pgzvYXbOIl/imAoqCLjoI07r0aQ2d7diNG+Ez+G7XXUSZZ4Ap/kaisy7JInxkzZ+KGPc7xKVvgnGPU3DJr0JFNMQf81TABHFMu69CXrwJSefDkIciuuKzpWSB+Hb4laAIpxvXazmIP+1YgLzIt3gV4xIMEUthyqGIcy75yn3Mj9HyADxWv9L3pLxfcX5PYRNrkriAYoaFsZlmG7yc3WXvSVwAS2cHaU2vgUWZ++xyPXogvBOuQJKn0A382z3Kig5Fsnrohqfgs90l2GFI5+d2Aq+GXpBdM832heDnYVv0pVSOEmgLXIYfkHUbJuFxaFbK/WeGg/y5aC/chjy0AiKuwk74/5sggzVwCJ5BXtsowo7CgtKs/K2IjmV0DEDav7yV8iY9PiLAHjbRcVkuizh5AK1Jo2bsP0y+DtnIeqDaxMu1aoMjMgP3+dAhPVXYBqWA7wivq0LxInlCClD/iJTDIguJv8xVuqhqLyCUAt5W+iomyP9G7oFdBDgDG0D+XeY35LnJLlyA53DyD8esOEUO18VOAAAAAElFTkSuQmCC"}});